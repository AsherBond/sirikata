<html>
  <head>
    <style type="text/css">
      p.command {
        border-width: 1px 1px 1px 1px;
        border-color: black;
        border-style: solid;
        padding: 0px;
      }
    </style>
    <script language="javascript" type="text/javascript">
      function pageScroll() {
        window.scrollBy(0,1000); // horizontal and vertical scroll increments
      }

      function addMessage(msg) {
        var new_p = document.createElement('p');
        new_p.appendChild( document.createTextNode(msg) );
        new_p.className = 'command';
        var results_div = document.getElementById('Results');
        results_div.appendChild( new_p );

        setTimeout('pageScroll()',100);
      }

      function runCommand() {
        var command_area = document.getElementById('Command');
        var command = command_area.value;
        command_area.value = '';

        addMessage(command);

        var arg_map = [
          'ExecScript',
          'Command', command
        ];
        chrome.send("event", arg_map);
      }
    </script>
  </head>
  <body>
    <div id="Results">
    </div>
    <div>
      <form>
        <input type="textarea" id="Command" name="Command" value="" />
        <button type="button" onclick="runCommand()">Run</button>
      </form>
    </div>
  </body>
</html>
